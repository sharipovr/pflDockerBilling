–í–æ—Ç —á–µ—Ç–∫–∏–π –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å REST API –Ω–∞ Golang —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (`/users`) –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ (`/subscriptions`):

---

## üóÇ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ –¥–ª—è –±—ç–∫–µ–Ω–¥–∞**

–°–æ–∑–¥–∞–π —Ç–∞–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backend/`:

```
backend/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ main.go                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ user.go                # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ subscription.go        # –ú–æ–¥–µ–ª—å –ø–æ–¥–ø–∏—Å–∫–∏
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ user.go                # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ subscription.go        # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ API –¥–ª—è –ø–æ–¥–ø–∏—Å–æ–∫
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ api.go                 # –†–æ—É—Ç–µ—Ä
‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îî‚îÄ‚îÄ storage.go             # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îú‚îÄ‚îÄ go.mod                     # Golang –º–æ–¥—É–ª—å
‚îî‚îÄ‚îÄ go.sum
```

---

## ‚öôÔ∏è **–®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

### üìå **–®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Golang-–ø—Ä–æ–µ–∫—Ç–∞**

```bash
cd backend
go mod init github.com/yourusername/pflDockerBilling
```

### üìå **–®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

```bash
go get github.com/gin-gonic/gin
go get gorm.io/gorm
go get gorm.io/driver/postgres
```

### üìå **–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö**

–§–∞–π–ª: **models/user.go**

```go
package models

import "gorm.io/gorm"

type User struct {
	gorm.Model
	Name     string `json:"name"`
	Email    string `json:"email" gorm:"unique"`
}
```

–§–∞–π–ª: **models/subscription.go**

```go
package models

import "gorm.io/gorm"

type Subscription struct {
	gorm.Model
	UserID      uint   `json:"user_id"`
	Plan        string `json:"plan"`
	Status      string `json:"status"` // active, inactive, cancelled
}
```

### üìå **–®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î PostgreSQL**

–§–∞–π–ª: **storage/storage.go**

```go
package storage

import (
	"log"
	"gorm.io/driver/postgres"
	"gorm.io/gorm"
	"yourusername/pflDockerBilling/models"
)

var DB *gorm.DB

func Init() {
	dsn := "host=localhost user=postgres password=postgres dbname=pfl_docker_billing port=5432 sslmode=disable"
	db, err := gorm.Open(postgres.Open(dsn), &gorm.Config{})
	if err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î: ", err)
	}

	db.AutoMigrate(&models.User{}, &models.Subscription{})
	DB = db
}
```

> –ó–∞–º–µ–Ω–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –Ω–∞ —Å–≤–æ–∏.

---

### üìå **–®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ API**

–§–∞–π–ª: **handlers/user.go**

```go
package handlers

import (
	"net/http"
	"yourusername/pflDockerBilling/models"
	"yourusername/pflDockerBilling/storage"
	"github.com/gin-gonic/gin"
)

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
func GetUsers(c *gin.Context) {
	var users []models.User
	storage.DB.Find(&users)
	c.JSON(http.StatusOK, users)
}

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
func CreateUser(c *gin.Context) {
	var user models.User
	if err := c.ShouldBindJSON(&user); err != nil {
		c.JSON(http.StatusBadRequest, gin.H{"error": err.Error()})
		return
	}
	storage.DB.Create(&user)
	c.JSON(http.StatusCreated, user)
}
```

–§–∞–π–ª: **handlers/subscription.go**

```go
package handlers

import (
	"net/http"
	"yourusername/pflDockerBilling/models"
	"yourusername/pflDockerBilling/storage"
	"github.com/gin-gonic/gin"
)

// –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
func GetSubscriptions(c *gin.Context) {
	var subscriptions []models.Subscription
	storage.DB.Find(&subscriptions)
	c.JSON(http.StatusOK, subscriptions)
}

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
func CreateSubscription(c *gin.Context) {
	var sub models.Subscription
	if err := c.ShouldBindJSON(&sub); err != nil {
		c.JSON(http.StatusBadRequest, gin.H{"error": err.Error()})
		return
	}
	storage.DB.Create(&sub)
	c.JSON(http.StatusCreated, sub)
}
```

---

### üìå **–®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞**

–§–∞–π–ª: **routes/api.go**

```go
package routes

import (
	"yourusername/pflDockerBilling/handlers"
	"github.com/gin-gonic/gin"
)

func SetupRouter() *gin.Engine {
	router := gin.Default()

	api := router.Group("/api")
	{
		api.GET("/users", handlers.GetUsers)
		api.POST("/users", handlers.CreateUser)

		api.GET("/subscriptions", handlers.GetSubscriptions)
		api.POST("/subscriptions", handlers.CreateSubscription)
	}

	return router
}
```

---

### üìå **–®–∞–≥ 7: –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞)**

–§–∞–π–ª: **cmd/main.go**

```go
package main

import (
	"log"
	"yourusername/pflDockerBilling/routes"
	"yourusername/pflDockerBilling/storage"
)

func main() {
	storage.Init()

	router := routes.SetupRouter()

	if err := router.Run(":8080"); err != nil {
		log.Fatal("–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ", err)
	}
}
```

---

### üìå **–®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ API**

–ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä:

```bash
go run cmd/main.go
```

–ü—Ä–æ–≤–µ—Ä—å API-–∑–∞–ø—Ä–æ—Å–∞–º–∏ (Postman –∏–ª–∏ curl):

**–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**:

```bash
curl -X POST http://localhost:8080/api/users \
-H "Content-Type: application/json" \
-d '{"name":"Alice","email":"alice@example.com"}'
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**:

```bash
curl http://localhost:8080/api/users
```

**–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏**:

```bash
curl -X POST http://localhost:8080/api/subscriptions \
-H "Content-Type: application/json" \
-d '{"user_id":1, "plan":"basic","status":"active"}'
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–¥–ø–∏—Å–æ–∫**:

```bash
curl http://localhost:8080/api/subscriptions
```

---

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–∏—Ö –±–∞–∑–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Ç—ã –º–æ–∂–µ—à—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π (PUT, DELETE), —É–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫, –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —É —Ç–µ–±—è –±—É–¥–µ—Ç —á—ë—Ç–∫–∞—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä—É—é –ª–µ–≥–∫–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –¥–∞–ª—å—à–µ.
